<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora ClassWiz Pro</title>
    <style>
        :root { --gold: #d4af37; --bg: #111; --lcd: #9db1a1; }
        body { background: #000; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; font-family: 'Arial', sans-serif; }
        
        .calc { background: #1a1a1a; width: 370px; padding: 25px; border-radius: 45px; border: 3px solid #333; box-shadow: 0 0 80px rgba(0,0,0,1); }
        
        /* Pantalla LCD Realista */
        .screen { background: var(--lcd); padding: 15px; border-radius: 8px; margin-bottom: 25px; border: 5px solid #111; height: 115px; display: flex; flex-direction: column; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); }
        #history { font-family: 'Courier New', monospace; font-size: 15px; color: #333; height: 20px; text-align: left; overflow: hidden; }
        #main-display { width: 100%; background: transparent; border: none; font-family: 'Courier New', monospace; font-size: 34px; text-align: right; color: #000; outline: none; margin-top: auto; }

        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; }

        /* Estilo de Botones */
        button { position: relative; height: 50px; border-radius: 12px; border: none; cursor: pointer; background: #333; color: white; font-size: 12px; font-weight: bold; transition: 0.1s; }
        button:active { transform: scale(0.92); filter: brightness(1.3); }
        
        /* Etiquetas SHIFT Doradas */
        button::before { content: attr(data-s); position: absolute; top: -16px; left: 50%; transform: translateX(-50%); color: var(--gold); font-size: 10px; font-weight: bold; white-space: nowrap; }

        .num { background: #444; font-size: 20px; height: 55px; }
        .op { background: #3d3d3d; color: #f39c12; font-size: 20px; }
        .fn { background: #222; color: #eee; font-size: 11px; height: 42px; border-radius: 20px; }
        .shift-btn { background: var(--gold); color: black; font-weight: 900; }
        .shift-active { box-shadow: 0 0 15px var(--gold); filter: brightness(1.2); }
        .ac { background: #b03a2e; font-weight: bold; }
        .exe { background: #eee; color: #000; font-size: 18px; }
        .format { font-size: 10px; background: #444; color: #aaa; }
    </style>
</head>
<body>

<div class="calc">
    <div class="screen">
        <div id="history"></div>
        <input type="text" id="main-display" readonly placeholder="0">
    </div>

    <div class="grid">
        <button class="fn shift-btn" id="s-btn" onclick="tS()">SHIFT</button>
        <button class="fn" data-s="RECALL">VAR</button>
        <button class="fn" data-s="f(x)">FUNC</button>
        <button class="fn" data-s="SET">CATALOG</button>
        <button class="fn" data-s="MENU">TOOLS</button>

        <button class="fn" data-s="x!" onclick="inpt('**(-1)')">x⁻¹</button>
        <button class="fn" data-s="a/b" onclick="inpt('/')">■/□</button>
        <button class="fn" data-s="3√" onclick="fnc('sqrt')">√</button>
        <button class="fn" data-s="x³" onclick="inpt('**2')">x²</button>
        <button class="fn" data-s="log_a" onclick="inpt('**')">xⁿ</button>

        <button class="fn" data-s="sin⁻¹" onclick="fnc('sin')">sin</button>
        <button class="fn" data-s="cos⁻¹" onclick="fnc('cos')">cos</button>
        <button class="fn" data-s="tan⁻¹" onclick="fnc('tan')">tan</button>
        <button class="fn" data-s="ln" onclick="fnc('log10')">log</button>
        <button class="fn" data-s="%" onclick="inpt('(')">(</button>

        <button class="num" data-s="π" onclick="inptNum('7')">7</button>
        <button class="num" data-s="e" onclick="inptNum('8')">8</button>
        <button class="num" data-s="i" onclick="inptNum('9')">9</button>
        <button class="ac" onclick="back()">DEL</button>
        <button class="ac" onclick="reset()">AC</button>

        <button class="num" onclick="inptNum('4')">4</button>
        <button class="num" onclick="inptNum('5')">5</button>
        <button class="num" onclick="inptNum('6')">6</button>
        <button class="op" onclick="inpt('*')">×</button>
        <button class="op" onclick="inpt('/')">÷</button>

        <button class="num" onclick="inptNum('1')">1</button>
        <button class="num" onclick="inptNum('2')">2</button>
        <button class="num" onclick="inptNum('3')">3</button>
        <button class="op" onclick="inpt('+')">+</button>
        <button class="op" onclick="inpt('-')">−</button>

        <button class="num" onclick="inptNum('0')">0</button>
        <button class="num" onclick="inpt('.')">.</button>
        <button class="num" data-s="DRG" onclick="exp()">×10ˣ</button>
        <button class="format">FORMAT</button>
        <button class="exe" onclick="exe()">EXE</button>
    </div>
</div>

<script>
    const disp = document.getElementById('main-display');
    const hist = document.getElementById('history');
    let s = false; // Estado de SHIFT
    let lastAns = 0;

    function tS() { 
        s = !s; 
        document.getElementById('s-btn').classList.toggle('shift-active', s); 
    }
    
    function inpt(v) { disp.value += v; }

    function inptNum(n) {
        if(s) {
            if(n === '7') disp.value += 'Math.PI';
            if(n === '8') disp.value += 'Math.E';
            tS();
        } else {
            disp.value += n;
        }
    }

    function reset() { disp.value = ""; hist.innerText = ""; }
    function back() { disp.value = disp.value.slice(0, -1); }
    function exp() { disp.value += '*10**'; }

    function fnc(f) {
        let val = disp.value || "0";
        if(s) { // Funciones Inversas con SHIFT
            if(f==='sin') disp.value = `Math.asin(${val})*(180/Math.PI)`;
            if(f==='cos') disp.value = `Math.acos(${val})*(180/Math.PI)`;
            if(f==='tan') disp.value = `Math.atan(${val})*(180/Math.PI)`;
            tS();
        } else {
            if(f==='sin') disp.value = `Math.sin(${val}*Math.PI/180)`;
            if(f==='cos') disp.value = `Math.cos(${val}*Math.PI/180)`;
            if(f==='tan') disp.value = `Math.tan(${val}*Math.PI/180)`;
            if(f==='log10') disp.value = `Math.log10(${val})`;
            if(f==='sqrt') disp.value = `Math.sqrt(${val})`;
        }
    }

    function exe() {
        try {
            hist.innerText = disp.value.replace('Math.PI', 'π').replace('Math.E', 'e') + " =";
            let res = eval(disp.value);
            disp.value = Number.isInteger(res) ? res : res.toFixed(8);
            lastAns = res;
        } catch {
            disp.value = "Syntax ERROR";
        }
    }
</script>
</body>
</html>
